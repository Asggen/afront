"use strict";exports.id=525,exports.ids=[525],exports.modules={525(e,t,n){n.r(t),n.d(t,{default:()=>m});var r=n(15),a=n.n(r),u=n(687),i=n(983);function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function u(n,r,a,u){var o=r&&r.prototype instanceof c?r:c,s=Object.create(o.prototype);return l(s,"_invoke",function(n,r,a){var u,o,l,c=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return u=t,o=0,l=e,d.n=n,i}};function m(n,r){for(o=n,l=r,t=0;!f&&c&&!a&&t<s.length;t++){var a,u=s[t],m=d.p,p=u[2];n>3?(a=p===r)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=m&&((a=n<2&&m<u[1])?(o=0,d.v=r,d.n=u[1]):m<p&&(a=n<3||u[0]>r||r>p)&&(u[4]=n,u[5]=r,d.n=p,o=0))}if(a||n>1)return i;throw f=!0,r}return function(a,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),o=s,l=p;(t=o<2?e:l)||!f;){u||(o?o<3?(o>1&&(d.n=-1),m(o,l)):d.n=l:d.v=l);try{if(c=2,u){if(o||(a="next"),t=u[a]){if(!(t=t.call(u,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=u.return)&&t.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==i)break}catch(t){u=e,o=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,a,u),!0),s}var i={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),m=f.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=f,l(m,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,a,"GeneratorFunction"),l(m),l(m,a,"Generator"),l(m,r,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m:p}})()}function l(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}l=function(e,t,n,r){function u(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},l(e,t,n,r)}function c(e,t,n,r,a,u,i){try{var o=e[u](i),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function i(e){c(u,r,a,i,o,"next",e)}function o(e){c(u,r,a,i,o,"throw",e)}i(void 0)})}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,u,i,o=[],l=!0,c=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const m=function(){var e=(0,u.useNavigate)(),t=f((0,r.useState)(1),2),n=t[0],l=t[1],c=f((0,r.useState)(""),2),d=c[0],m=c[1],p=f((0,r.useState)(""),2),b=p[0],v=p[1],y=f((0,r.useState)(""),2),h=y[0],g=y[1],E=f((0,r.useState)("personal"),2),w=E[0],S=E[1],k=f((0,r.useState)(""),2),C=k[0],N=k[1],j=f((0,r.useState)(!1),2),O=j[0],x=j[1],A=f((0,r.useState)(null),2),T=A[0],P=A[1],q=function(){if(P(null),1===n){if(!d)return"Email is required";if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(d))return"Enter a valid email address";if(!b)return"Password is required";if(b.length<8)return"Password must be at least 8 characters"}if(2===n&&(!h||0===h.trim().length))return"Full name is required";if(3===n){if(!w)return"Select account type";if("business"===w&&(!C||0===C.trim().length))return"Brand / Company Name is required for business accounts"}return null},F=function(e){s(o().m(function t(){var r,a;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e&&e.preventDefault(),!(r=q())){t.n=1;break}return t.a(2,P(r));case 1:if(P(null),1!==n){t.n=8;break}return t.p=2,t.n=3,i.Ay.checkSignup({email:d});case 3:if((a=t.v)&&a.ok){t.n=4;break}return P(a&&a.data&&(a.data.error||a.data.message)||"Check failed"),t.a(2);case 4:if(!a.data.disposable){t.n=5;break}return P("Disposable email addresses are not allowed"),t.a(2);case 5:if(!a.data.exists){t.n=6;break}return P("An account already exists with this email"),t.a(2);case 6:t.n=8;break;case 7:return t.p=7,t.v,P("Email check failed"),t.a(2);case 8:l(function(e){return Math.min(3,e+1)});case 9:return t.a(2)}},t,null,[[2,7]])}))()},B=function(e){e&&e.preventDefault(),P(null),l(function(e){return Math.max(1,e-1)})},G=function(){var t=s(o().m(function t(n){var r,a,u;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n&&n.preventDefault(),!(r=q())){t.n=1;break}return t.a(2,P(r));case 1:return x(!0),P(null),t.p=2,a={email:d,password:b,name:h,accountType:w,companyName:"business"===w?C:void 0},t.n=3,i.Ay.signup(a);case 3:if((u=t.v)&&u.ok){t.n=4;break}return P(u&&u.data&&(u.data.error||u.data.message)||"Registration failed"),x(!1),t.a(2);case 4:try{localStorage.setItem("auth-event",String(Date.now()))}catch(e){}window.dispatchEvent(new Event("auth-changed")),e("/"),t.n=6;break;case 5:t.p=5,t.v,P("Registration failed");case 6:return t.p=6,x(!1),t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}));return function(e){return t.apply(this,arguments)}}();return a().createElement("div",{className:"page auth-page signup-page"},a().createElement("h2",null,"Sign up"),T&&a().createElement("div",{className:"auth-error"},T),a().createElement("form",{className:"auth-form",onSubmit:3===n?G:F},1===n&&a().createElement(a().Fragment,null,a().createElement("label",null,"Email Address (required)",a().createElement("input",{type:"email",value:d,onChange:function(e){return m(e.target.value)},disabled:O})),a().createElement("label",null,"Password (required, min 8 characters)",a().createElement("input",{type:"password",value:b,onChange:function(e){return v(e.target.value)},disabled:O})),a().createElement("div",{className:"form-actions"},a().createElement("button",{type:"button",onClick:F,disabled:O},"Next"))),2===n&&a().createElement(a().Fragment,null,a().createElement("label",null,"Full Name (required)",a().createElement("input",{value:h,onChange:function(e){return g(e.target.value)},disabled:O})),a().createElement("div",{className:"form-actions"},a().createElement("button",{type:"button",onClick:B,disabled:O},"Back"),a().createElement("button",{type:"button",onClick:F,disabled:O},"Next"))),3===n&&a().createElement(a().Fragment,null,a().createElement("label",null,"Account Type (required)",a().createElement("div",null,a().createElement("label",null,a().createElement("input",{type:"radio",name:"accountType",value:"personal",checked:"personal"===w,onChange:function(){return S("personal")},disabled:O}),"Personal / Creator"),a().createElement("label",null,a().createElement("input",{type:"radio",name:"accountType",value:"business",checked:"business"===w,onChange:function(){return S("business")},disabled:O}),"Business / Brand / Company"))),"business"===w&&a().createElement("label",null,"Brand / Company Name (required for business)",a().createElement("input",{value:C,onChange:function(e){return N(e.target.value)},disabled:O})),T&&a().createElement("div",{className:"auth-error"},T),a().createElement("div",{className:"form-actions"},a().createElement("button",{type:"button",onClick:B,disabled:O},"Back"),a().createElement("button",{type:"submit",disabled:O},O?"Signing up...":"Sign up")))))}}};